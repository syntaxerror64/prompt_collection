**Задача:**  
Проанализировать проект, определить все взаимосвязи между файлами и функциями, выявить неиспользуемые файлы и функции, сгенерировать структуру проекта в формате JSON, а затем удалить ненужные элементы.

---

**Инструкции:**

1. **Анализ проекта:**  
   - Проанализируйте **все файлы проекта**, независимо от их типа (например, Python, JavaScript, HTML, CSS и т.д.).  
   - Определите **все зависимости между файлами** (например, импорты, включения, вызовы функций).  
   - Идентифицируйте **все функции и классы в каждом файле**, а затем проверьте их использование в проекте.  
   - Учитывайте **динамические вызовы** (например, через `eval()`, `getattr()`), но пометьте такие случаи как "возможные зависимости", так как их сложно анализировать статически.  
   - Игнорируйте файлы, которые явно не относятся к коду (например, `.gitignore`, `README.md`, `node_modules`, `venv`).  

2. **Создание JSON-структуры проекта:**  
   - Сгенерируйте файл `project_structure.json` с детальной структурой проекта, включая:  
     ```json
     {
       "project_name": "Имя_проекта",
       "directories": [
         {
           "path": "src/",
           "files": [
             {
               "file_path": "src/main.py",
               "functions": [
                 {"name": "function1", "is_used": true},
                 {"name": "unused_function", "is_used": false}
               ],
               "dependencies": ["src/utils.py"],
               "used_by": ["src/app.py"]
             }
           ]
         }
       ],
       "unused_files": ["old_code/deprecated.js", "unused_module.py"],
       "unused_functions": [
         {"file": "src/helpers.py", "function": "old_helper"},
         {"file": "lib/util.js", "function": "unused_util"}
       ]
     }
     ```  
     - Включите в структуру:  
       - Пути к файлам и их зависимости.  
       - Статус использования функций (`true`/`false`).  
       - Полный список **неиспользуемых файлов** и **неиспользуемых функций**.  
     - Отметьте файлы, которые **используются только в других неиспользуемых файлах**, как кандидаты на удаление.  

3. **Удаление ненужных элементов:**  
   - Создайте **резервную копию проекта** перед началом очистки (например, `backup_before_cleanup/`).  
   - Удалите все файлы из списка `unused_files`.  
   - Удалите **неиспользуемые функции** из используемых файлов, оставив только их определения, если это безопасно (например, если функция не вызывается и не используется в коде).  
   - После удаления проверьте, что все зависимости проекта сохранены (например, нет разорванных связей).  

4. **Проверка и тестирование:**  
   - Проведите **статический анализ** проекта после очистки, чтобы убедиться, что нет ошибок.  
   - Если проект поддерживает тесты (например, Jest, pytest), выполните их для проверки функциональности.  
   - Если тесты не пройдены, откатите изменения и уточните, какие файлы/функции требуют внимания.  

5. **Финальный отчет:**  
   - Сформируйте отчет в виде текста или отдельного файла `cleanup_report.md`, включив:  
     - Количество удаленных файлов и функций.  
     - Примеры удаляемых элементов (первые 3-5).  
     - Предупреждения о возможных ошибках (например, удаление критически важных элементов).  
   - Предложите пользователю проверить результаты перед окончательным сохранением.  

---

**Требования к анализу:**  
- Используйте **статический анализ кода** (например, как в linters или IDE).  
- Для языков с динамической типизацией (например, Python, JavaScript) учитывайте стандартные паттерны вызовов.  
- Если файл содержит только комментарии или документацию, пометьте его как "неиспользуемый".  

**Дополнительные указания:**  
- Если проект использует фреймворки (например, Django, React), учитывайте их специфические зависимости (например, шаблоны, маршруты).  
- Игнорируйте файлы, которые явно помечены как тестовые (например, `*_test.py`).  

---

**Важно:**  
- Перед выполнением опасных операций (удаление файлов) предоставьте пользователю возможность **подтвердить действия**.  
- Если возникнут сомнения в корректности анализа, укажите это в отчете и предложите ручную проверку.  
